{"version":3,"file":"component---src-pages-pg-essays-js-dcfa9423acc2599da304.js","mappings":"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","sources":["webpack://priyanshujain.dev/./src/components/home/SectionBox.js","webpack://priyanshujain.dev/./src/pages/pg/essays.js"],"sourcesContent":["import React from \"react\";\nimport Icon from \"../Icon\";\nimport styleVars from \"../../styles/style-vars\";\n\nconst SectionBox = ({\n  heading, \n  headingClass=\"\", \n  bodyClass=\"\", \n  sideComponent,\n  sideImg, \n  sideClass=\"\", \n  className=\"\",\n  sideImgClassName=\"\",\n  id=\"\",\n  children\n}) => {\n  return (\n    <div className={className} id={id}>\n      <div className={`${styleVars.page.xl} grid-12 gutter-row-20 gutter-36-ns`}>\n        <div className={`${bodyClass}`}>\n          <h1 className={`${headingClass}`}>\n            {heading}\n          </h1>\n          {children}\n        </div>\n        {sideImg || sideComponent ? (\n          <div className={`${sideClass}`}>\n            {sideImg ? (\n              <Icon name={sideImg} className={sideImgClassName}/>\n            ) : (\n              sideComponent\n            )}\n          </div>\n        ): null}\n      </div>\n    </div>\n  );\n}\n\nexport default SectionBox;\n","import React, { useEffect, useState } from \"react\";\nimport Layout from \"../../components/layout/index\";\nimport SEO from \"../../components/seo\";\nimport { SectionBox } from \"../../components/home\";\nimport Icon from \"../../components/Icon\";\n\nconst Page = (props) => {\n  const [content, setContent] = useState(null);\n\n  // get essay query params\n  const urlParams = new URLSearchParams(props.location.search);\n  const essay = urlParams.get(\"essay\");\n\n  const pgUrl = `https://paulgraham.com/${essay}.html`;\n  const url = `https://api.pjay.in/?url=${pgUrl}`;\n\n  useEffect(() => {\n    const fetchAndRender = async () => {\n      try {\n        const response = await fetch(url);\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n        const text = await response.text();\n\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(text, \"text/html\");\n\n        var table = doc\n          .getElementsByTagName(\"table\")[0]\n          ?.getElementsByTagName(\"table\")[0]\n          .getElementsByTagName(\"font\")[0].innerHTML;\n\n          // if table contains Want to start a startup? then replace table by another table\n        if (table.includes(\"Want to start a startup?\")) {\n          table = doc\n            .getElementsByTagName(\"table\")[0]\n            ?.getElementsByTagName(\"table\")[0]?.getElementsByTagName(\"font\")[2]?.innerHTML;\n        }\n\n        // if any of the a tags have a href matching *.html  then replace it with /pg/essays?essay=*\n        const aTags = table.match(/<a href=\".*.html\">.*<\\/a>/g);\n        if (aTags) {\n          aTags.forEach((aTag) => {\n            const href = aTag.match(/<a href=\"(.*)\">.*<\\/a>/)[1];\n            table = table.replace(\n              href,\n              `/pg/essays?essay=${href.split(\".\")[0]}`\n            );\n          });\n        }\n\n        if (table) {\n          setContent(table);\n        } else {\n          if (\n            doc\n              .getElementsByTagName(\"table\")[0]\n              .getElementsByTagName(\"table\")[1]\n          ) {\n            setContent(\n              doc\n                .getElementsByTagName(\"table\")[0]\n                .getElementsByTagName(\"table\")[1].innerHTML\n            );\n          } else if (doc.getElementsByTagName(\"table\")[0]) {\n            setContent(doc.getElementsByTagName(\"table\")[0].innerHTML);\n          } else {\n            setContent(doc.innerHTML);\n          }\n        }\n      } catch (error) {\n        console.error(\"Fetch error:\", error);\n        setContent(\"Failed to fetch and render content.\");\n      }\n    };\n\n    fetchAndRender();\n  }, [url]);\n\n  return (\n    <Layout headerClass=\"\">\n      <SEO\n        title=\"Essays by Paul Graham\"\n        description={`A collection of essays by Paul Graham`}\n      />\n      <div\n        class=\"main-content\"\n        style={{\n          minHeight: \"100vh\",\n        }}\n      >\n        <SectionBox bodyClass=\"col-12 mw-100 center\" />\n        <div className=\" pt0 pb5 pb20-ns\">\n          <div className=\"mw-l center\">\n            <p className=\"ma0 pa0 pl5 pr5 mt4 f4 f3-ns sig-grey\">\n              <div className=\"pb20\" style={{fontSize: \"16px\", opacity: \"70%\"}}>\n                This page uses the content provided in Paul Graham's website and\n                merely renders essay displayed at the site {\" \"}\n                <a href={pgUrl} target=\"_blank\">\n                  {pgUrl}\n                </a>\n                . This page is intended\n                to provide easy access and beautiful reading experience for Paul\n                Grahams essays.\n              </div>\n              <div dangerouslySetInnerHTML={{ __html: content }}></div>\n            </p>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Page;\n"],"names":["_ref","heading","headingClass","bodyClass","sideComponent","sideImg","sideClass","className","sideImgClassName","id","children","React","styleVars","page","xl","Icon","name","props","content","setContent","useState","pgUrl","URLSearchParams","location","search","get","url","useEffect","async","_doc$getElementsByTag","response","fetch","ok","Error","text","doc","DOMParser","parseFromString","_doc$getElementsByTag2","_doc$getElementsByTag3","_doc$getElementsByTag4","table","getElementsByTagName","innerHTML","includes","aTags","match","forEach","aTag","href","replace","split","error","console","fetchAndRender","Layout","headerClass","SEO","title","description","class","style","minHeight","SectionBox","fontSize","opacity","target","dangerouslySetInnerHTML","__html"],"sourceRoot":""}